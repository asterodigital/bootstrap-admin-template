---
import { getAssetPrefix } from "../../../utils/path.js";
---

<!-- CodeMirror Core Scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.js" is:inline
></script>

<!-- Essential CodeMirror Modes -->
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/javascript/javascript.min.js"
  is:inline></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/css/css.min.js" is:inline
></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/xml/xml.min.js" is:inline
></script>
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/htmlmixed/htmlmixed.min.js"
  is:inline></script>

<!-- Component Preview Scripts -->
<script src={getAssetPrefix("/assets/vendor/js/component-preview/codemirror-editor.js")} is:inline
></script>
<script src={getAssetPrefix("/assets/vendor/js/component-preview/preview-manager.js")} is:inline
></script>
<script src={getAssetPrefix("/assets/vendor/js/component-preview/ui-controls-manager.js")} is:inline
></script>

<!-- JSZip for download functionality -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js" is:inline></script>

<!-- Simple Initialization -->
<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    // Initialize CodeMirror
    if (typeof window.CodeMirrorManager !== "undefined") {
      window.CodeMirrorManager.init();
    }

    // Initialize Preview Manager
    if (typeof window.PreviewManager !== "undefined") {
      window.PreviewManager.init();
    }

    // Initialize UI Controls
    if (typeof window.UIControlsManager !== "undefined") {
      window.UIControlsManager.setupUIControls();
    }

    // Initialize tooltips if Bootstrap is available
    if (typeof bootstrap !== "undefined") {
      const tooltips = document.querySelectorAll('[data-bs-toggle="tooltip"]');
      tooltips.forEach((tooltip) => {
        new bootstrap.Tooltip(tooltip);
      });
    }
  });
</script>
